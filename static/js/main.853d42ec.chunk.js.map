{"version":3,"sources":["components/Content/Content.module.css","components/Header/Search/Search.module.css","components/Preloader/Preloader.module.css","components/Modal/Modal.module.css","components/Content/Movies/Movie.module.css","api/api.js","Redux/movie-reducer.js","components/Header/Search/Search.jsx","components/Header/Header.jsx","components/Content/Movies/Movie.jsx","components/Preloader/Preloader.jsx","components/Modal/Modal.jsx","components/Content/Content.jsx","App.js","reportWebVitals.js","Redux/store.js","index.js","components/Header/Header.module.css"],"names":["module","exports","API_KEY","movieAPI","currentPage","axios","get","headers","filmId","text","SET_MOVIE","SET_MODAL","SET_CURRENTPAGE","SEARCH","SEARCH_ERROR","setMovie","movie","count","clb","type","setModal","modal","trailers","searchMovie","searchError","initialState","search","totalCount","movieReducer","state","action","Set","length","map","trailer","url","filter","includes","replace","connect","dispatch","a","response","data","films","console","log","keyword","props","className","style","onChange","e","target","value","placeholder","Header","header","container","logo","icon","logoText","Movie","React","useState","colorRating","setColorRating","useEffect","rating","coverInner","movieCover","src","posterUrl","onClick","setActive","getMovieModal","coverDarkened","info","title","name","category","genres","genre","join","borderColor","average","Preloader","loader","loaderInner","loaderLineWrap","loaderLine","Modal","load","setLoad","active","onclick","delete","stopPropagation","modalContent","movieInfo","posterUrlPreview","img","nameRu","slogan","year","description","frameborder","allow","allowfullscreen","seamless","Content","getMovie","isLoad","bool","setState","scrollHandler","documentElement","scrollHeight","scrollTop","window","innerHeight","list","move","document","addEventListener","this","removeEventListener","prevProps","setCurrentPage","content","error","Component","pagesCount","resp","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.853d42ec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2m6Ls\",\"container\":\"Content_container__1DSdq\",\"error\":\"Content_error__3i2fM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2OMsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__UB95n\",\"loaderInner\":\"Preloader_loaderInner__1y1Sg\",\"loaderLineWrap\":\"Preloader_loaderLineWrap__1vEzx\",\"spin\":\"Preloader_spin__3X5r_\",\"loaderLine\":\"Preloader_loaderLine__1ewUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3nOwP\",\"delete\":\"Modal_delete__3sO1S\",\"active\":\"Modal_active__1lwuK\",\"modalContent\":\"Modal_modalContent__1n1mY\",\"eff\":\"Modal_eff__28qb5\",\"movieInfo\":\"Modal_movieInfo__qn4pj\",\"movieInfoNone\":\"Modal_movieInfoNone__3XQoI\",\"img\":\"Modal_img__2Pfi2\",\"imgNone\":\"Modal_imgNone__3i6SJ\",\"info\":\"Modal_info__1XHEp\",\"infoNone\":\"Modal_infoNone__lOb4D\",\"description\":\"Modal_description__lehUI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"Movie_movie__dMeeA\",\"coverInner\":\"Movie_coverInner__39sRh\",\"movieCover\":\"Movie_movieCover__1X-i_\",\"coverDarkened\":\"Movie_coverDarkened__1F6uK\",\"info\":\"Movie_info__1BQB0\",\"title\":\"Movie_title__2ivvv\",\"category\":\"Movie_category__jrtZk\",\"average\":\"Movie_average__3uygu\"};","import axios from 'axios'\r\n\r\nconst API_KEY = \"128d4a2b-b5a5-48b6-beeb-bdfb70407d2c\"\r\n\r\n\r\nexport const movieAPI = {\r\n   getMovie(currentPage) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=${currentPage}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n\r\n   getMovieModal(filmId) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${filmId}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n   \r\n   getTrailer(filmId) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${filmId}/videos`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n\r\n   SearchFilms(text) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${text}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   }\r\n   }","import { movieAPI } from \"../api/api\";\r\n\r\nconst SET_MOVIE = \"SET_MOVIE\";\r\nconst SET_MODAL = \"SET_MODAL\";\r\nconst SET_CURRENTPAGE = \"SET_CURRENTPAGE\";\r\nconst SEARCH = \"SEARCH\";\r\nconst SEARCH_ERROR = \"SEARCH_ERROR\";\r\n\r\nexport const setMovie = (movie, count, clb) => ({\r\n  type: SET_MOVIE,\r\n  movie,\r\n  count,\r\n  clb,\r\n});\r\nexport const setModal = (modal, trailers) => ({\r\n  type: SET_MODAL,\r\n  modal,\r\n  trailers,\r\n});\r\nexport const searchMovie = (movie) => ({ type: SEARCH, movie });\r\nexport const searchError = (text) => ({ type: SEARCH_ERROR, text });\r\nexport const setCurrentPage = () => ({ type: SET_CURRENTPAGE });\r\n\r\nexport const getMovie = (currentPage, movie, clb) => async (dispatch) => {\r\n  if (movie.length <= 20 * currentPage) {\r\n    let response = await movieAPI.getMovie(currentPage);\r\n    dispatch(setMovie(response.data.films, response.data.pagesCount, clb));\r\n  }\r\n};\r\n\r\nexport const search = (text) => async (dispatch) => {\r\n  let response = await movieAPI.SearchFilms(text);\r\n  if (!response.data.films.length) {\r\n    dispatch(searchError(response.data.keyword));\r\n    dispatch(searchMovie(response.data.films));\r\n  } else {\r\n    dispatch(searchMovie(response.data.films));\r\n    console.log(response.data.films);\r\n  }\r\n};\r\n\r\nexport const getMovieModal = (filmId) => async (dispatch) => {\r\n  let resp = await movieAPI.getTrailer(filmId);\r\n  let data = await movieAPI.getMovieModal(filmId);\r\n  dispatch(setModal(null));\r\n  dispatch(setModal(data.data.data, resp.data.trailers));\r\n};\r\n\r\nlet initialState = {\r\n  movie: [],\r\n  trailers: null,\r\n  search: false,\r\n  modal: null,\r\n  totalCount: null,\r\n  currentPage: 1,\r\n  searchError: null,\r\n};\r\n\r\nconst movieReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_MOVIE: {\r\n      action.clb && action.clb();\r\n      return {\r\n        ...state,\r\n        movie: [...new Set([...state.movie, ...action.movie])],\r\n        totalCount: action.count,\r\n        currentPage: state.currentPage + 1,\r\n      };\r\n    }\r\n    case SEARCH: {\r\n      return {\r\n        ...state,\r\n        movie: [...action.movie],\r\n        search: action.movie.length ? true : false,\r\n      };\r\n    }\r\n    case SEARCH_ERROR: {\r\n      return {\r\n        ...state,\r\n        movie: [],\r\n        searchError: action.text,\r\n      };\r\n    }\r\n    case SET_CURRENTPAGE: {\r\n      return {\r\n        ...state,\r\n        currentPage: 1,\r\n      };\r\n    }\r\n    case SET_MODAL: {\r\n      return {\r\n        ...state,\r\n        modal: action.modal,\r\n        trailers: [\r\n          ...(action.trailers\r\n            ? action.trailers\r\n                .map((trailer) => trailer.url)\r\n                .filter(\r\n                  (trailer) =>\r\n                    trailer.includes(\"https://www.youtube.com/watch?v=\") ||\r\n                    trailer.includes(\"https://youtu.be/\")\r\n                )\r\n                .map((trailer) => {\r\n                  if (trailer.includes(\"https://www.youtube.com/watch?v=\")) {\r\n                    return trailer.replace(\r\n                      \"https://www.youtube.com/watch?v=\",\r\n                      \"https://www.youtube.com/embed/\"\r\n                    );\r\n                  } else {\r\n                    return trailer.replace(\r\n                      \"https://youtu.be/\",\r\n                      \"https://www.youtube.com/embed/\"\r\n                    );\r\n                  }\r\n                })\r\n            : []),\r\n        ],\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default movieReducer;\r\n","import React from \"react\";\r\nimport style from \"./Search.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { search } from \"../../../Redux/movie-reducer\";\r\n\r\nconst Search = (props) => {\r\n  const searchMovie = (e) => {\r\n    props.search(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <form className={style.search}>\r\n      <input onChange={searchMovie} type=\"text\" placeholder=\"Поиск...\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nexport default connect(mapStateToProps, { search })(Search);\r\n","import React from 'react'\r\nimport style from './Header.module.css'\r\nimport Search from './Search/Search'\r\n\r\nconst Header = (props) => {\r\n   return <div className={style.header}>\r\n      <div className={style.container}> \r\n<div className={style.logo}>\r\n<div className={style.icon}>\r\n</div>\r\n<div className={style.logoText}>\r\nMOVIE\r\n</div>\r\n</div>\r\n<div className={style.search}>\r\n<Search/>\r\n</div>\r\n      </div>\r\n   </div>\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport style from './Movie.module.css'\r\n\r\nconst Movie = (props) => {\r\n\r\n   const [colorRating, setColorRating] = React.useState()\r\n\r\n   React.useEffect(() => {\r\nif (props.rating <= 5) {\r\n   setColorRating('red')\r\n}\r\nelse if (props.rating > 5 && props.rating < 7) {\r\n   setColorRating('orange')\r\n}\r\nelse {\r\n   setColorRating('green')\r\n}\r\n   },[props.rating] )\r\n\r\nconst activate = () => {\r\n   props.setActive(true)\r\n   props.getMovieModal(props.filmId)\r\n}\r\n\r\n   return <div className={style.movie}>\r\n<div  className={style.coverInner}>\r\n<img className={style.movieCover} src={props.posterUrl} />\r\n<div onClick={activate} className={style.coverDarkened}></div>\r\n</div>\r\n<div className={style.info}>\r\n   <div className={style.title}> {props.name}</div>\r\n   <div className={style.category}>{props.genres.map(genre => genre.genre).join()}</div>\r\n<div style={{borderColor: colorRating}} className={style.average}>{props.rating}</div>\r\n</div>\r\n   </div>\r\n}\r\n\r\nexport default Movie","import React from \"react\";\r\nimport style from \"./Preloader.module.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={style.loader}>\r\n      <div className={style.loaderInner}>\r\n        <div className={style.loaderLineWrap}>\r\n          <div className={style.loaderLine}></div>\r\n        </div>\r\n        <div className={style.loaderLineWrap}>\r\n          <div className={style.loaderLine}></div>\r\n        </div>\r\n        <div className={style.loaderLineWrap}>\r\n          <div className={style.loaderLine}></div>\r\n        </div>\r\n        <div className={style.loaderLineWrap}>\r\n          <div className={style.loaderLine}></div>\r\n        </div>\r\n        <div className={style.loaderLineWrap}>\r\n          <div className={style.loaderLine}></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst Modal = (props) => {\r\n  let genre = props.genres\r\n    ? props.genres.map((genre) => genre.genre).join(\" \")\r\n    : \"\";\r\n  const [load, setLoad] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    if (props.filmId && props.trailers) {\r\n      setLoad(false);\r\n    } else {\r\n      setLoad(true);\r\n    }\r\n  }, [props]);\r\n\r\n  return (\r\n    <>\r\n      {load ? (\r\n        <div\r\n          onClick={() => {\r\n            props.setActive(false);\r\n            props.setModal(null);\r\n          }}\r\n          className={`${style.modal}`}\r\n        >\r\n          <Preloader />\r\n        </div>\r\n      ) : (\r\n        <div\r\n          onClick={() => {\r\n            props.setActive(false);\r\n            props.setModal(null);\r\n          }}\r\n          className={`${style.modal}\r\n    ${!load ? style.active : \"\"}`}\r\n        >\r\n          <div\r\n            onclick={() => {\r\n              props.setActive(false);\r\n              props.setModal(null);\r\n            }}\r\n            className={style.delete}\r\n          >\r\n            X\r\n          </div>\r\n          <div\r\n            onClick={(e) => e.stopPropagation()}\r\n            className={style.modalContent}\r\n          >\r\n            <div className={style.movieInfo}>\r\n              <img src={props.posterUrlPreview} className={style.img} />\r\n              <div className={style.info}>\r\n                <h2>{props.nameRu}</h2>\r\n                <div>\r\n                  <i>{props.slogan}</i>\r\n                </div>\r\n                <div>\r\n                  {\" \"}\r\n                  <span>Жанр : </span>\r\n                  {genre}\r\n                </div>\r\n                <div>\r\n                  <span>Год : </span>\r\n                  {props.year}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={style.description}>{props.description}</div>\r\n            <iframe\r\n              src={props.trailers[0]}\r\n              title=\"YouTube video player\"\r\n              frameborder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowfullscreen\r\n              seamless\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport style from \"./Content.module.css\";\r\nimport Movie from \"./Movies/Movie\";\r\nimport {\r\n  getMovie,\r\n  getMovieModal,\r\n  setModal,\r\n  setCurrentPage,\r\n} from \"../../Redux/movie-reducer\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\n\r\nclass Content extends React.Component {\r\n  state = {\r\n    active: false,\r\n    getMovie: true,\r\n    isLoad: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"scroll\", this.scrollHandler);\r\n    this.getMovie();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"scroll\", this.scrollHandler);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      (prevProps.search && !this.props.search) ||\r\n      (prevProps.searchError && !this.props.searchError)\r\n    ) {\r\n      this.props.setCurrentPage();\r\n      this.setState({ getMovie: true, isLoad: true }, () => {\r\n        this.getMovie();\r\n      });\r\n    }\r\n  }\r\n\r\n  getMovie() {\r\n    if (this.state.isLoad && this.state.getMovie) {\r\n      this.setState({ isLoad: true });\r\n      this.props.getMovie(this.props.currentPage, this.props.movie, () => {\r\n        this.setState({ getMovie: false, isLoad: false });\r\n      });\r\n    }\r\n  }\r\n\r\n  setActive = (bool) => {\r\n    this.setState({ active: bool });\r\n  };\r\n\r\n  scrollHandler = (e) => {\r\n    if (\r\n      e.target.documentElement.scrollHeight -\r\n        (e.target.documentElement.scrollTop + window.innerHeight) <\r\n        200 &&\r\n      this.props.currentPage < this.props.totalCount &&\r\n      !this.state.isLoad &&\r\n      !this.state.getMovie &&\r\n      !this.props.search\r\n    ) {\r\n      this.setState({ getMovie: true, isLoad: true }, () => {\r\n        this.getMovie();\r\n      });\r\n    }\r\n  };\r\n\r\n  list = () => {\r\n    return this.props.movie.map((move) => {\r\n      return (\r\n        <Movie\r\n          getMovieModal={this.props.getMovieModal}\r\n          filmId={move.filmId}\r\n          active={this.active}\r\n          setActive={this.setActive}\r\n          key={move.filmId}\r\n          name={move.nameRu}\r\n          rating={move.rating}\r\n          genres={move.genres}\r\n          posterUrl={move.posterUrl}\r\n        />\r\n      );\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={style.content}>\r\n        <div className={style.container}>\r\n          {this.state.active && (\r\n            <Modal\r\n              {...this.props.modal}\r\n              trailers={this.props.trailers}\r\n              setModal={this.props.setModal}\r\n              active={this.state.active}\r\n              setActive={this.setActive}\r\n            />\r\n          )}\r\n          {this.list()}\r\n        </div>\r\n        {this.props.getMovie &&\r\n          !this.props.searchError &&\r\n          !this.props.search &&\r\n          this.props.totalCount !== this.props.currentPage && <Preloader />}\r\n        {this.props.searchError && (\r\n          <div className={style.error}>\r\n            фильмы \"{this.props.searchError}\" не найдены\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  movie: state.movie.movie,\r\n  search: state.movie.search,\r\n  searchError: state.movie.searchError,\r\n  modal: state.movie.modal,\r\n  trailers: state.movie.trailers,\r\n  totalCount: state.movie.totalCount,\r\n  currentPage: state.movie.currentPage,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getMovie,\r\n  getMovieModal,\r\n  setModal,\r\n  setCurrentPage,\r\n})(Content);\r\n","import './App.css'\nimport Header from './components/Header/Header'\nimport Content from './components/Content/Content'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Content/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers, createStore,  applyMiddleware } from \"redux\"\r\nimport thunk from \"redux-thunk\";\r\nimport movieReducer from './movie-reducer'\r\n\r\n\r\nlet reducers = combineReducers({\r\n   movie: movieReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/store'\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eipLj\",\"container\":\"Header_container__3iKJf\",\"logo\":\"Header_logo__1mWE2\",\"icon\":\"Header_icon__2CX6f\",\"logoText\":\"Header_logoText__1n7Qw\",\"search\":\"Header_search__qdNka\"};"],"sourceRoot":""}