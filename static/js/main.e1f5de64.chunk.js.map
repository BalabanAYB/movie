{"version":3,"sources":["components/Content/Content.module.css","components/Header/Search/Search.module.css","components/Preloader/Preloader.module.css","components/Content/Movies/Movie.module.css","components/Modal/Modal.module.css","api/api.js","Redux/movie-reducer.js","components/Header/Search/Search.jsx","components/Header/Header.jsx","components/Content/Movies/Movie.jsx","components/Modal/Modal.jsx","components/Preloader/Preloader.jsx","components/Content/Content.jsx","App.js","reportWebVitals.js","Redux/store.js","index.js","components/Header/Header.module.css"],"names":["module","exports","API_KEY","movieAPI","currentPage","axios","get","headers","filmId","text","SET_MOVIE","SET_MODAL","SET_CURRENTPAGE","SEARCH","setMovie","movie","count","clb","type","setModal","modal","trailers","initialState","search","totalCount","movieReducer","state","action","Set","length","map","trailer","url","filter","includes","replace","connect","dispatch","a","response","data","films","props","className","style","onChange","e","target","value","placeholder","Header","header","container","logo","icon","logoText","Movie","React","useState","colorRating","setColorRating","useEffect","rating","coverInner","movieCover","src","posterUrl","onClick","setActive","getMovieModal","coverDarkened","info","title","name","category","genres","genre","join","borderColor","average","Modal","active","onclick","delete","stopPropagation","modalContent","movieInfo","posterUrlPreview","img","nameRu","slogan","year","description","frameborder","allow","allowfullscreen","seamless","Preloader","loader","loaderInner","loaderLineWrap","loaderLine","Content","getMovie","isLoad","bool","setState","scrollHandler","documentElement","scrollHeight","scrollTop","window","innerHeight","list","move","document","addEventListener","this","removeEventListener","prevProps","setCurrentPage","content","Component","pagesCount","resp","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e1f5de64.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2m6Ls\",\"container\":\"Content_container__1DSdq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2OMsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__UB95n\",\"loaderInner\":\"Preloader_loaderInner__1y1Sg\",\"loaderLineWrap\":\"Preloader_loaderLineWrap__1vEzx\",\"spin\":\"Preloader_spin__3X5r_\",\"loaderLine\":\"Preloader_loaderLine__1ewUs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movie\":\"Movie_movie__dMeeA\",\"coverInner\":\"Movie_coverInner__39sRh\",\"movieCover\":\"Movie_movieCover__1X-i_\",\"coverDarkened\":\"Movie_coverDarkened__1F6uK\",\"info\":\"Movie_info__1BQB0\",\"title\":\"Movie_title__2ivvv\",\"category\":\"Movie_category__jrtZk\",\"average\":\"Movie_average__3uygu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3nOwP\",\"delete\":\"Modal_delete__3sO1S\",\"active\":\"Modal_active__1lwuK\",\"modalContent\":\"Modal_modalContent__1n1mY\",\"movieInfo\":\"Modal_movieInfo__qn4pj\",\"movieInfoNone\":\"Modal_movieInfoNone__3XQoI\",\"img\":\"Modal_img__2Pfi2\",\"imgNone\":\"Modal_imgNone__3i6SJ\",\"info\":\"Modal_info__1XHEp\",\"infoNone\":\"Modal_infoNone__lOb4D\",\"description\":\"Modal_description__lehUI\"};","import axios from 'axios'\r\n\r\nconst API_KEY = \"128d4a2b-b5a5-48b6-beeb-bdfb70407d2c\"\r\n\r\n\r\nexport const movieAPI = {\r\n   getMovie(currentPage) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=${currentPage}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n\r\n   getMovieModal(filmId) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${filmId}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n   \r\n   getTrailer(filmId) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/${filmId}/videos`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   },\r\n\r\n   SearchFilms(text) {\r\n      return axios.get(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${text}`, {\r\n         headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-API-KEY\": API_KEY,\r\n         }\r\n      }) \r\n   }\r\n   }","import {movieAPI} from '../api/api'\r\n\r\nconst SET_MOVIE = 'SET_MOVIE'\r\nconst SET_MODAL = 'SET_MODAL'\r\nconst SET_CURRENTPAGE = 'SET_CURRENTPAGE'\r\nconst SEARCH = 'SEARCH'\r\n\r\nexport const setMovie = (movie, count, clb) => ({ type: SET_MOVIE, movie, count, clb })\r\nexport const setModal = (modal, trailers) => ({ type: SET_MODAL, modal, trailers })\r\nexport const searchMovie = (movie) => ({ type: SEARCH, movie })\r\nexport const setCurrentPage = () => ({ type: SET_CURRENTPAGE })\r\n\r\nexport const getMovie = (currentPage, movie,clb) => async (dispatch) => {\r\n   if (movie.length <= (20 * currentPage)){\r\n   let response = await movieAPI.getMovie(currentPage)\r\n   dispatch(setMovie(response.data.films, response.data.pagesCount,clb))\r\n   }\r\n}\r\n\r\nexport const search = (text) => async (dispatch) => {\r\n   let response = await movieAPI.SearchFilms(text)\r\n   dispatch(searchMovie(response.data.films))\r\n}\r\n\r\nexport const getMovieModal = (filmId) => async (dispatch) => {\r\n   let resp = await movieAPI.getTrailer(filmId)\r\n   let data = await movieAPI.getMovieModal(filmId)\r\n   dispatch(setModal(null))\r\n   dispatch(setModal(data.data.data, resp.data.trailers))\r\n  \r\n}\r\n\r\n\r\n\r\nlet initialState = {\r\n   movie: [],\r\n   trailers: [],\r\n   search: false,\r\n   modal: null,\r\n   totalCount: null,\r\n   currentPage: 1,\r\n}\r\n\r\nconst movieReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n      case SET_MOVIE: {\r\n         action.clb && action.clb()\r\n         return {\r\n            ...state,\r\n            movie: [...new Set([...state.movie, ...action.movie])],\r\n            totalCount: action.count,\r\n            currentPage: state.currentPage + 1\r\n         }\r\n      }\r\n      case SEARCH: {\r\n         return {\r\n            ...state,\r\n            movie: [...action.movie],\r\n            search: action.movie.length? true: false\r\n         }\r\n      }\r\n      case SET_CURRENTPAGE: {\r\n         return {\r\n            ...state,\r\n            currentPage: 1,\r\n         }\r\n      }\r\n      case SET_MODAL: {\r\n         return {\r\n            ...state,\r\n            modal: action.modal,\r\n            trailers: [...action.trailers\r\n            ? action.trailers\r\n            .map(trailer => trailer.url)\r\n            .filter(trailer => trailer.includes('https://www.youtube.com/watch?v=') || trailer.includes('https://youtu.be/'))\r\n            .map(trailer => {\r\n               if (trailer.includes('https://www.youtube.com/watch?v=')){\r\n                  return trailer.replace('https://www.youtube.com/watch?v=', 'https://www.youtube.com/embed/')\r\n               }\r\n               else {\r\n                  return trailer.replace('https://youtu.be/', 'https://www.youtube.com/embed/')\r\n               }\r\n            })\r\n            : []]\r\n         }\r\n      }\r\n      default:\r\n         return state;\r\n   }\r\n}\r\n\r\nexport default movieReducer\r\n","import React from 'react'\r\nimport style from './Search.module.css'\r\nimport {connect} from 'react-redux'\r\nimport {search} from '../../../Redux/movie-reducer'\r\n\r\nconst Search = (props) => {\r\n\r\nconst searchMovie = (e) => {\r\n   props.search(e.target.value)\r\n}\r\n\r\n   return <form className={style.search}>\r\n      <input\r\n      onChange={searchMovie}\r\n         type=\"text\"\r\n         placeholder='Поиск...'\r\n      />\r\n   </form>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, {search})(Search)","import React from 'react'\r\nimport style from './Header.module.css'\r\nimport Search from './Search/Search'\r\n\r\nconst Header = (props) => {\r\n   return <div className={style.header}>\r\n      <div className={style.container}> \r\n<div className={style.logo}>\r\n<div className={style.icon}>\r\n</div>\r\n<div className={style.logoText}>\r\nMOVIE\r\n</div>\r\n</div>\r\n<div className={style.search}>\r\n<Search/>\r\n</div>\r\n      </div>\r\n   </div>\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport style from './Movie.module.css'\r\n\r\nconst Movie = (props) => {\r\n\r\n   const [colorRating, setColorRating] = React.useState()\r\n\r\n   React.useEffect(() => {\r\nif (props.rating <= 5) {\r\n   setColorRating('red')\r\n}\r\nelse if (props.rating > 5 && props.rating < 7) {\r\n   setColorRating('orange')\r\n}\r\nelse {\r\n   setColorRating('green')\r\n}\r\n   },[props.rating] )\r\n\r\nconst activate = () => {\r\n   props.setActive(true)\r\n   props.getMovieModal(props.filmId)\r\n}\r\n\r\n   return <div className={style.movie}>\r\n<div  className={style.coverInner}>\r\n<img className={style.movieCover} src={props.posterUrl} />\r\n<div onClick={activate} className={style.coverDarkened}></div>\r\n</div>\r\n<div className={style.info}>\r\n   <div className={style.title}> {props.name}</div>\r\n   <div className={style.category}>{props.genres.map(genre => genre.genre).join()}</div>\r\n<div style={{borderColor: colorRating}} className={style.average}>{props.rating}</div>\r\n</div>\r\n   </div>\r\n}\r\n\r\nexport default Movie","import React from 'react'\r\nimport style from './Modal.module.css'\r\n\r\nconst Modal = (props) => {\r\n   let genre = props.genres ? props.genres.map(genre => genre.genre).join(' '): ''\r\n   return <>\r\n   {<div onClick={() => {\r\n      props.setActive(false)\r\n      props.setModal(null) \r\n   }} \r\n\r\n   className={`${style.modal}\r\n    ${props.active ? style.active : ''}`}>\r\n       <div onclick={() => {\r\n       props.setActive(false)\r\n       props.setModal(null)\r\n   }} className = {style.delete}>X</div>\r\n<div onClick={e => e.stopPropagation()} className={style.modalContent}>\r\n<div className={style.movieInfo}>\r\n<img src={props.posterUrlPreview} className={style.img}/>\r\n<div className={style.info}>\r\n   <h2>{props.nameRu}</h2>\r\n   <div><i>{props.slogan}</i></div>\r\n   <div> <span>Жанр : </span>{genre}</div>\r\n   <div><span>Год : </span>{props.year}</div>\r\n</div>\r\n</div>\r\n<div className={style.description}>\r\n{props.description}\r\n</div>\r\n<iframe src={props.trailers[0]}\r\ntitle=\"YouTube video player\" frameborder=\"0\"\r\n allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n  allowfullscreen\r\n  seamless\r\n></iframe>\r\n</div>\r\n   </div>\r\n/*<div onClick={() => {\r\n   props.setActive(false)\r\n   }} \r\n   className={`${style.modal}\r\n   ${props.active ? style.active : ''}`}>\r\n   <div onClick={e => e.stopPropagation()} className={style.modalContent}>\r\n      <div className={style.movieInfoNone}>\r\n      <div className={style.imgNone} ></div>\r\n         <div className={style.infoNone}>\r\n         <h2></h2>\r\n         <div className={style.sloganNone}></div>\r\n         <div></div>\r\n         <div className={style.yearNone}></div>\r\n      </div>\r\n      </div>\r\n      <div className={style.descriptionNone}>\r\n      </div>\r\n   </div>\r\n</div>*/\r\n}\r\n   </>\r\n}\r\n\r\nexport default Modal","import React from 'react'\r\nimport style from './Preloader.module.css'\r\n\r\n\r\nconst Preloader = () => {\r\n   return <div className={style.loader}>\r\n\t<div className={style.loaderInner}>\r\n\t\t<div className={style.loaderLineWrap}>\r\n\t\t\t<div className={style.loaderLine}></div>\r\n\t\t</div>\r\n\t\t<div className={style.loaderLineWrap}>\r\n\t\t\t<div className={style.loaderLine}></div>\r\n\t\t</div>\r\n\t\t<div className={style.loaderLineWrap}>\r\n\t\t\t<div className={style.loaderLine}></div>\r\n\t\t</div>\r\n\t\t<div className={style.loaderLineWrap}>\r\n\t\t\t<div className={style.loaderLine}></div>\r\n\t\t</div>\r\n\t\t<div className={style.loaderLineWrap}>\r\n\t\t\t<div className={style.loaderLine}></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n}\r\n\r\nexport default Preloader","import React from 'react'\r\nimport style from './Content.module.css'\r\nimport Movie from './Movies/Movie'\r\nimport {getMovie, getMovieModal, setModal, setCurrentPage} from '../../Redux/movie-reducer'\r\nimport {connect} from 'react-redux'\r\nimport Modal from '../Modal/Modal'\r\nimport Preloader from '../Preloader/Preloader'\r\n\r\nclass Content extends React.Component {\r\n\r\nstate = {\r\n   active: false,\r\n   getMovie: true,\r\n   isLoad: true\r\n   }\r\n\r\n\r\ncomponentDidMount() {\r\n   document.addEventListener('scroll', this.scrollHandler)\r\n   this.getMovie()\r\n      \r\n}\r\n\r\n componentWillUnmount(){\r\n    document.removeEventListener('scroll', this.scrollHandler)\r\n }\r\n\r\n componentDidUpdate (prevProps) {\r\n    if (prevProps.search && !this.props.search) {\r\n       this.props.setCurrentPage()\r\n       this.setState({getMovie: true, isLoad: true}, () => {\r\n         this.getMovie()\r\n      })\r\n    }\r\n }\r\n\r\n getMovie () {\r\n              if (this.state.isLoad && this.state.getMovie) {\r\n            this.setState({isLoad: true})\r\n            this.props.getMovie(this.props.currentPage, this.props.movie, () => {\r\n                this.setState({getMovie: false, isLoad: false})\r\n            })\r\n\r\n        }\r\n}\r\n\r\n\r\n\r\nsetActive = (bool) => {\r\n    this.setState({active: bool})\r\n}\r\n\r\nscrollHandler = (e) => {\r\n   if(e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 200\r\n    && this.props.currentPage < this.props.totalCount\r\n    && !this.state.isLoad && !this.state.getMovie  && !this.props.search){\r\n      this.setState({getMovie: true, isLoad: true}, () => {\r\n         this.getMovie()\r\n      })\r\n   }\r\n}\r\n\r\nlist = () => {\r\n return (this.props.movie.map(move => {\r\n  return <Movie getMovieModal={this.props.getMovieModal}\r\n   filmId={move.filmId} active={this.active} setActive={this.setActive}\r\n    key={move.filmId} name={move.nameRu} rating={move.rating}\r\n     genres={move.genres} posterUrl={move.posterUrl}/>\r\n}))\r\n}\r\nrender() {\r\n   return <div className={style.content}>\r\n<div className={style.container}>\r\n  {this.state.active && <Modal {...this.props.modal} trailers={this.props.trailers}\r\n   setModal={this.props.setModal} active={this.state.active}\r\n    setActive={this.setActive}/>} \r\n{this.list()}\r\n</div>\r\n{this.props.getMovie && <Preloader/>}\r\n   </div>\r\n}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n   movie:state.movie.movie,\r\n   search:state.movie.search,\r\n   modal:state.movie.modal,\r\n   trailers:state.movie.trailers,\r\n   totalCount: state.movie.totalCount,\r\n   currentPage: state.movie.currentPage,\r\n})\r\n\r\nexport default connect(mapStateToProps, {getMovie, getMovieModal, setModal, setCurrentPage}) (Content)","import './App.css'\nimport Header from './components/Header/Header'\nimport Content from './components/Content/Content'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Content/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers, createStore,  applyMiddleware } from \"redux\"\r\nimport thunk from \"redux-thunk\";\r\nimport movieReducer from './movie-reducer'\r\n\r\n\r\nlet reducers = combineReducers({\r\n   movie: movieReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/store'\nimport {Provider} from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eipLj\",\"container\":\"Header_container__3iKJf\",\"logo\":\"Header_logo__1mWE2\",\"icon\":\"Header_icon__2CX6f\",\"logoText\":\"Header_logoText__1n7Qw\",\"search\":\"Header_search__qdNka\"};"],"sourceRoot":""}